<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>Dot Weight 2.0 Blob Font Generator</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      padding: 20px;
      line-height: 1.6;
    }
    #grid {
      position: relative;
      display: inline-block;
      margin-top: 20px;
    }
    .dot {
      position: absolute;
      border-radius: 50%;
      background: black;
      transform: translate(-50%, -50%);
    }
    label { font-weight: 600; display: block; margin-top: 14px; }
    input[type="text"] {
      width: 200px;
      padding: 6px;
      font-size: 18px;
    }
  </style>
</head>
<body>

  <h1>Dot Weight Font (0 → 2.0 Blob Expansion)</h1>

  <label>
    텍스트 입력:
    <input id="textInput" type="text" value="HELLO" maxlength="50">
  </label>

  <label>
    Weight (0 → 2.0):
    <input id="weightSlider" type="range" min="0" max="2" step="0.01" value="0.2">
    <span id="weightLabel">0.20</span>
  </label>

  <label>
    Letter Spacing (px):
    <input id="spacingSlider" type="range" min="0" max="100" step="1" value="20">
    <span id="spacingLabel">20px</span>
  </label>

  <div id="grid"></div>

  <script>
    /* ===== 5×7 DOT FONT (A~Z) ===== */
    const glyphs = {
      "A":[ "01110","10001","10001","11111","10001","10001","10001" ],
      "B":[ "11110","10001","10001","11110","10001","10001","11110" ],
      "C":[ "01110","10001","10000","10000","10000","10001","01110" ],
      "D":[ "11100","10010","10001","10001","10001","10010","11100" ],
      "E":[ "11111","10000","10000","11110","10000","10000","11111" ],
      "F":[ "11111","10000","10000","11110","10000","10000","10000" ],
      "G":[ "01110","10001","10000","10111","10001","10001","01110" ],
      "H":[ "10001","10001","10001","11111","10001","10001","10001" ],
      "I":[ "01110","00100","00100","00100","00100","00100","01110" ],
      "J":[ "00111","00010","00010","00010","10010","10010","01100" ],
      "K":[ "10001","10010","10100","11000","10100","10010","10001" ],
      "L":[ "10000","10000","10000","10000","10000","10000","11111" ],
      "M":[ "10001","11011","10101","10001","10001","10001","10001" ],
      "N":[ "10001","11001","10101","10011","10001","10001","10001" ],
      "O":[ "01110","10001","10001","10001","10001","10001","01110" ],
      "P":[ "11110","10001","10001","11110","10000","10000","10000" ],
      "Q":[ "01110","10001","10001","10001","10101","10010","01101" ],
      "R":[ "11110","10001","10001","11110","10100","10010","10001" ],
      "S":[ "01111","10000","10000","01110","00001","00001","11110" ],
      "T":[ "11111","00100","00100","00100","00100","00100","00100" ],
      "U":[ "10001","10001","10001","10001","10001","10001","01110" ],
      "V":[ "10001","10001","10001","10001","10001","01010","00100" ],
      "W":[ "10001","10001","10001","10001","10101","11011","10001" ],
      "X":[ "10001","01010","00100","00100","00100","01010","10001" ],
      "Y":[ "10001","01010","00100","00100","00100","00100","00100" ],
      "Z":[ "11111","00001","00010","00100","01000","10000","11111" ]
    };

    /* ===== SETTINGS ===== */
    const cols = 5;
    const rows = 7;
    const cellSize = 40;

    const minR = 4;     // 가장 얇은 반지름
    const midR = 18;    // weight=1.0일 때 정상 두께
    const blobExtra = 40; // blob 확장 크기

    const grid = document.getElementById("grid");
    const textInput = document.getElementById("textInput");
    const weightSlider = document.getElementById("weightSlider");
    const spacingSlider = document.getElementById("spacingSlider");

    const weightLabel = document.getElementById("weightLabel");
    const spacingLabel = document.getElementById("spacingLabel");

    /* ===== RENDER ===== */
    function drawText() {
      const text = textInput.value.toUpperCase();
      const weight = parseFloat(weightSlider.value);
      const spacing = parseInt(spacingSlider.value);

      weightLabel.textContent = weight.toFixed(2);
      spacingLabel.textContent = spacing + "px";

      grid.innerHTML = "";
      let offsetX = 0;

      for (let char of text) {
        const glyph = glyphs[char];
        if (!glyph) {
          offsetX += cols * cellSize + spacing;
          continue;
        }

        // 기본 점 크기: weight 0~1
        let radius = minR + (midR - minR) * Math.min(weight, 1);
        let diameter = radius * 2;

        // weight 1~2 (blob 확장)
        if (weight > 1) {
          const extra = (weight - 1); // 0~1
          diameter = diameter + blobExtra * extra;
        }

        // 점 그리기
        for (let y = 0; y < rows; y++) {
          for (let x = 0; x < cols; x++) {
            if (glyph[y][x] === "1") {
              const dot = document.createElement("div");
              dot.className = "dot";

              const cx = offsetX + x * cellSize + cellSize / 2;
              const cy = y * cellSize + cellSize / 2;

              dot.style.left = cx + "px";
              dot.style.top = cy + "px";
              dot.style.width = diameter + "px";
              dot.style.height = diameter + "px";

              grid.appendChild(dot);
            }
          }
        }

        offsetX += cols * cellSize + spacing;
      }

      grid.style.width = offsetX + "px";
      grid.style.height = rows * cellSize + "px";
    }

    weightSlider.addEventListener("input", drawText);
    spacingSlider.addEventListener("input", drawText);
    textInput.addEventListener("input", drawText);

    drawText();
  </script>

</body>
</html>
